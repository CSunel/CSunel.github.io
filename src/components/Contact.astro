---
const contactMethods = [
  {
    type: "discord",
    label: "Discord",
    value: "0xnell",
    link: null
  },
  {
    type: "email",
    label: "E-poçt",
    value: "csunelll@proton.me",
    link: "mailto:csunelll@proton.me"
  },
  {
    type: "github",
    label: "GitHub",
    value: "github.com/CSunel/C",
    link: "https://github.com/CSunel/C"
  },
  {
    type: "location",
    label: "Məkan",
    value: "Bakı, Azərbaycan",
    link: null
  }
];
---

<section id="elaqe" class="section contact">
  <div class="container">
    <div class="section-title">
      <span class="section-number">05</span>
      <h2>Əlaqə</h2>
    </div>
    
    <div class="contact-grid">
      <div class="contact-content">
        <h3 class="contact-heading">
          Texniki əməkdaşlıq və ya bilik mübadiləsi üçün əlaqə kanalları.
        </h3>
        
        <p class="contact-description">
          Tədqiqat nəticələrini müzakirə etmək, Rust ekosistemi haqqında fikir bölüşmək 
          və ya gələcək layihələr üçün ilkin fikir mübadiləsi aparmaq istəyirsinizsə, 
          aşağıdakı kanallardan istifadə edə bilərsiniz.
        </p>
        
        <div class="contact-methods">
          {contactMethods.map((method) => (
            <div class="contact-method">
              <div class="method-icon">
                {method.type === "discord" && (
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                  </svg>
                )}
                {method.type === "email" && (
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <rect x="2" y="4" width="20" height="16" rx="2"/>
                    <path d="M22 6L12 13 2 6"/>
                  </svg>
                )}
                {method.type === "github" && (
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
                  </svg>
                )}
                {method.type === "location" && (
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                    <circle cx="12" cy="10" r="3"/>
                  </svg>
                )}
              </div>
              <div class="method-info">
                <span class="method-label">{method.label}</span>
                {method.link ? (
                  <a href={method.link} class="method-value" target="_blank" rel="noopener">
                    {method.value}
                  </a>
                ) : (
                  <span class="method-value">{method.value}</span>
                )}
              </div>
            </div>
          ))}
        </div>
      </div>
      
      <div class="contact-form-wrapper">
        <form class="contact-form" id="contactForm">
          <h4 class="form-title">Qısa Mesaj</h4>
          
          <div class="form-group">
            <label for="name" class="form-label">Ad</label>
            <input type="text" id="name" name="name" class="form-input" placeholder="Adınız" required />
          </div>
          
          <div class="form-group">
            <label for="email" class="form-label">E-poçt</label>
            <input type="email" id="email" name="email" class="form-input" placeholder="email@example.com" required />
          </div>
          
          <div class="form-group">
            <label for="subject" class="form-label">Mövzu</label>
            <select id="subject" name="subject" class="form-input form-select">
              <option value="technical">Texniki sual</option>
              <option value="collaboration">Əməkdaşlıq</option>
              <option value="rust">Rust mövzusu</option>
              <option value="other">Digər</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="message" class="form-label">Mesaj</label>
            <textarea id="message" name="message" class="form-input form-textarea" placeholder="Qısa təsvir..." rows="4" required></textarea>
          </div>
          
          <button type="submit" class="form-submit">
            Göndər
          </button>
          
          <p class="form-note">
            Form mailto protokolu vasitəsilə e-poçt müştərinizdə açılır.
          </p>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  const form = document.getElementById('contactForm');
  
  form?.addEventListener('submit', (e) => {
    e.preventDefault();
    const formData = new FormData(form as HTMLFormElement);
    const name = formData.get('name');
    const email = formData.get('email');
    const subject = formData.get('subject');
    const message = formData.get('message');
    const mailtoLink = `mailto:csunelll@proton.me?subject=${encodeURIComponent(`[Portfolio] ${subject}: ${name}`)}&body=${encodeURIComponent(`Göndərən: ${name}\nE-poçt: ${email}\n\n${message}`)}`;
    window.location.href = mailtoLink;
  });
</script>

<style>
  .contact {
    background: var(--color-black-light);
    position: relative;
  }

  .contact::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--color-gray-800), transparent);
  }

  .contact-grid {
    display: grid;
    gap: var(--space-4xl);
    align-items: start;
  }

  @media (min-width: 1024px) {
    .contact-grid {
      grid-template-columns: 1fr 1fr;
    }
  }

  .contact-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-2xl);
  }

  .contact-heading {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    color: var(--color-white);
    line-height: 1.4;
  }

  .contact-description {
    font-size: 1rem;
    color: var(--color-gray-400);
    line-height: 1.7;
  }

  .contact-methods {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    padding-top: var(--space-xl);
    border-top: 1px solid var(--color-gray-800);
  }

  .contact-method {
    display: flex;
    align-items: center;
    gap: var(--space-lg);
    padding: var(--space-md);
    background: var(--color-gray-900);
    border: 1px solid var(--color-gray-800);
    border-radius: var(--radius-md);
  }

  .method-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-gray-800);
    border-radius: var(--radius-sm);
    color: var(--color-gray-400);
  }

  .method-icon svg {
    width: 20px;
    height: 20px;
  }

  .method-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .method-label {
    font-size: 0.75rem;
    color: var(--color-gray-600);
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  .method-value {
    font-family: var(--font-mono);
    font-size: 0.9rem;
    color: var(--color-gray-300);
  }

  a.method-value:hover {
    color: var(--color-white);
  }

  .contact-form-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .contact-form {
    width: 100%;
    max-width: 460px;
    background: var(--color-gray-900);
    border: 1px solid var(--color-gray-800);
    border-radius: var(--radius-lg);
    padding: var(--space-2xl);
  }

  .form-title {
    font-size: 1.1rem;
    color: var(--color-white);
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--color-gray-800);
  }

  .form-group {
    margin-bottom: var(--space-lg);
  }

  .form-label {
    display: block;
    font-size: 0.75rem;
    color: var(--color-gray-500);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--space-sm);
  }

  .form-input {
    width: 100%;
    padding: var(--space-md);
    background: var(--color-black-lighter);
    border: 1px solid var(--color-gray-800);
    border-radius: var(--radius-md);
    font-family: var(--font-display);
    font-size: 0.9rem;
    color: var(--color-white);
  }

  .form-input:focus {
    outline: none;
    border-color: var(--color-gray-600);
    background: var(--color-gray-900);
  }

  .form-select {
    appearance: none;
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b6b6b' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right var(--space-md) center;
  }

  .form-textarea {
    resize: vertical;
    min-height: 100px;
  }

  .form-submit {
    width: 100%;
    padding: var(--space-md);
    border: 1px solid var(--color-white);
    background: transparent;
    color: var(--color-white);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-family: var(--font-mono);
    transition: all var(--transition-fast);
  }

  .form-submit:hover {
    background: var(--color-white);
    color: var(--color-black);
  }

  .form-note {
    font-size: 0.75rem;
    color: var(--color-gray-600);
    margin-top: var(--space-md);
    text-align: center;
  }
</style>
